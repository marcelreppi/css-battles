<html>
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="normalize.css" />
    <meta name="viewport" content="width=device-width" />
    <link
      rel="shortcut icon"
      href="https://cssbattle.dev/images/logo-square.png"
    />
  </head>
  <style>
    html {
      visibility: hidden;
    }
  </style>

  <body
    style="visibility: hidden"
    onload="document.body.style.visibility='visible'"
  >
    <h1>CSS Battles</h1>

    <div id="container"></div>
  </body>

  <style>
    body {
      background: #000000;
      font-size: 20px;
      font-family: "Poppins";
      letter-spacing: 2px;
      color: yellow;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }
    h1 {
      color: yellow;
      text-align: center;
    }

    #container {
      width: 80%;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
    }

    #container > div {
      display: flex;
      justify-content: flex-start;
      align-items: center;
      flex-direction: column;
      margin: 20px 40px;
    }

    h2 {
      margin: 0px;
      text-align: center;
    }

    li {
      color: rgb(38, 255, 0);
      font-size: 1.4rem;
    }

    a {
      text-decoration: none;
      color: rgb(255, 0, 234);
    }
  </style>
  <script>
    const pad = (x) => (x < 10 ? `0${x}` : x.toString())
    const baseURL = "https://marcelreppi.github.io/css-battles"
    let battleCount = 0
    let targetCount = 0
    const container = document.getElementById("container")

    function addBattle(title, targets) {
      battleCount++
      const battleDiv = document.createElement("div")

      // Title
      const battleTitleH2 = document.createElement("h2")
      battleTitleH2.textContent = `Battle #${battleCount} - ${title}`
      battleDiv.appendChild(battleTitleH2)

      // Targets
      const olTag = document.createElement("ol")
      olTag.start = targetCount + 1

      for (let i = 0; i < targets.length; i++) {
        const target = targets[i]
        const liTag = document.createElement("li")
        const aTag = document.createElement("a")
        aTag.textContent = target
        aTag.target = "_blank"
        aTag.rel = "noopener noreferrer"

        const battleFilename = target.toLowerCase().split(" ").join("-")
        const githubLink = [
          baseURL,
          "/",
          `battle-${battleCount}`,
          "/",
          pad(targetCount + i + 1),
          "-",
          battleFilename,
          ".html",
        ].join("")
        const localLink = [
          `battle-${battleCount}`,
          "/",
          pad(targetCount + i + 1),
          "-",
          battleFilename,
          ".html",
        ].join("")

        aTag.href = githubLink
        // aTag.href = localLink

        liTag.append(aTag)
        olTag.append(liTag)
      }

      battleDiv.append(olTag)
      container.append(battleDiv)
      targetCount += targets.length
    }

    const battles = [
      {
        title: "Pilot Battle",
        targets: [
          "Simply Square",
          "Carrom",
          "Push Button",
          "Ups n Downs",
          "Acid Rain",
          "Missing Slice",
          "Leafy Trail",
          "Forking Crazy",
          "Tesseract",
          "Cloaked Spirits",
          "Eye of Sauron",
          "Wiggly Moustache",
        ],
      },
      {
        title: "Visibility",
        targets: [
          "Totally Triangle",
          "Web Maker Logo",
          "Overlap",
          "Eye of the Tiger",
          "Fidget Spinner",
          "Matrix",
        ],
      },
      {
        title: "Cursor",
        targets: ["Cube", "Ticket"],
      },
      {
        title: "Display",
        targets: [
          "SitePoint Logo",
          "Cloud",
          "Boxception",
          "Switches",
          "Blossom",
          "Smiley",
          "Lock Up",
          "Cups & Balls",
        ],
      },
      {
        title: "Inline",
        targets: ["Suffocate", "Horizon"],
      },
      {
        title: "Conic",
        targets: ["Equals", "Band-aid"],
      },
      {
        title: "Backface",
        targets: [
          "Birdie",
          "Christmas Tree",
          "Ice Cream",
          "Interleaved",
          "Tunnel",
          "Not Simply Square",
          "Sunset",
          "Letter B",
          "Fox Head",
        ],
      },
      {
        title: "Transition",
        targets: ["Baby", "Wrench", "Stripes"],
      },
    ]

    for (let i = 0; i < battles.length; i++) {
      const { title, targets } = battles[i]
      addBattle(title, targets)
    }
  </script>
  <noscript>
    <style>
      html,
      body {
        height: 100%;
        margin: 0;
      }
      body {
        visibility: visible;
      }
    </style>
  </noscript>
</html>
